<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tatsu 立つ</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="hud-layer">
      <div class="profile-card">
        <div class="user-info">
          <span id="user-name-display" class="username">guest</span>
          <button
            id="save-profile-btn"
            class="save-btn hidden"
            aria-label="save progress"
          >
            <span>save</span>
          </button>
          <span class="tier-badge">TIER <span id="user-tier">1</span></span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" id="tier-bar" style="width: 0%"></div>
        </div>
      </div>

      <div class="top-buttons">
        <button id="leaderboard-btn" class="icon-btn" aria-label="leaderboard">
          <svg class="icon-svg" viewBox="0 0 24 24">
            <path
              d="M16 11V3H8v6H2v12h20V11h-6zm-6-6h4v14h-4V5zm-6 6h4v8H4v-8zm16 8h-4v-6h4v6z"
            />
          </svg>
        </button>

        <button
          id="fullscreen-btn"
          class="icon-btn"
          aria-label="toggle fullscreen"
        >
          <svg class="icon-svg" id="fs-icon" viewBox="0 0 24 24">
            <path
              d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"
            />
          </svg>
        </button>

        <button id="settings-btn" class="icon-btn" aria-label="settings">
          <svg class="icon-svg" viewBox="0 0 24 24">
            <path
              d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"
            />
          </svg>
        </button>
      </div>
    </div>

    <div id="app-layer">
      <div class="status-badge" id="status-label">ready to focus</div>

      <div class="timer-wrapper" id="timer-wrapper">
        <svg class="progress-ring" width="300" height="300">
          <circle
            class="progress-ring__circle-bg"
            stroke="rgba(255,255,255,0.05)"
            stroke-width="8"
            fill="transparent"
            r="140"
            cx="150"
            cy="150"
          />
          <circle
            class="progress-ring__circle"
            id="circle-progress"
            stroke="var(--accent-color)"
            stroke-width="8"
            fill="transparent"
            r="140"
            cx="150"
            cy="150"
          />
        </svg>
        <div class="timer-display" id="timer-display">00:00:00</div>
      </div>

      <div class="cycle-container hidden" id="linear-cycle-container">
        <div class="cycle-label">
          <span>cycle progress</span>
          <span id="cycle-percent">0%</span>
        </div>
        <div class="cycle-track">
          <div class="cycle-fill" id="cycle-bar" style="width: 0%"></div>
        </div>
      </div>

      <div class="controls">
        <button id="toggle-btn">initiate session</button>
        <button id="reset-cycle-btn" class="secondary-btn hidden">
          cycle complete (+50 pts)
        </button>
      </div>
    </div>

    <div id="panel-backdrop" class="hidden"></div>

    <aside id="side-panel">
      <div class="panel-header">
        <h2 id="panel-title">menu</h2>
        <button id="close-panel-btn">&times;</button>
      </div>

      <div id="view-leaderboard" class="panel-view hidden">
        <div class="leaderboard-list">
          <div class="lb-row">
            <span class="rank">#1</span> <span class="name">alex_flow</span>
            <span class="score">TIER 42</span>
          </div>
          <div class="lb-row">
            <span class="rank">#2</span> <span class="name">pro_dev</span>
            <span class="score">TIER 38</span>
          </div>
          <div class="lb-row highlight">
            <span class="rank">#3</span>
            <span class="name" id="lb-user-name">you</span>
            <span class="score" id="lb-user-lvl">TIER 1</span>
          </div>
        </div>
      </div>

      <div id="view-settings" class="panel-view hidden">
        <div class="setting-group">
          <label>language</label>
          <div class="toggle-group">
            <button class="lang-btn active">en</button>
            <button class="lang-btn">es</button>
          </div>
        </div>
        <div class="setting-group">
          <label>progress style</label>
          <div class="toggle-group">
            <button class="style-btn active" data-style="ring">ring</button>
            <button class="style-btn" data-style="glow">glow</button>
            <button class="style-btn" data-style="line">line</button>
          </div>
        </div>
        <div class="setting-group">
          <label>interface</label>
          <button id="theme-toggle-btn" class="theme-switch-btn">
            toggle dark mode
          </button>
        </div>
      </div>

      <div id="view-profile" class="panel-view hidden">
        <p class="panel-desc">save your metrics to the global database</p>
        <input
          type="text"
          id="username-input"
          placeholder="enter alias"
          maxlength="15"
          autocomplete="off"
        />
        <button id="create-profile-btn" class="full-width-btn">
          save profile
        </button>
      </div>
    </aside>

    <div id="intro-layer">
      <div class="logo-container">
        <div class="logo-text">tatsu <span class="kanji">立つ</span></div>
        <div class="subtitle">flow state tracker</div>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        TatsuApp.init();
      });
    </script>
  </body>
</html>
